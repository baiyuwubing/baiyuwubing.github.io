__require=function e(t,i,o){function n(r,s){if(!i[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}}var u=i[r]={exports:{}};t[r][0].call(u.exports,function(e){return n(t[r][1][e]||e)},u,u.exports,e,t,i,o)}return i[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)n(o[r]);return n}({AssetUtil:[function(e,t,i){"use strict";cc._RF.push(t,"15bceiVtNFA/Lr/qvDIdHjg","AssetUtil"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.all_clear=null,t.ball_fire=null,t.game_over=null,t.gameover_settle_part=null,t.gameover_settle_total=null,t.high_hit=null,t.impact_brick=null,t.impact_brick2=null,t.impact_brick3=null,t.impact_item=null,t.v_down=null,t}var i;return __extends(t,e),i=t,t.prototype.onLoad=function(){i._ins=this},t.getIns=function(){return i._ins},t.prototype.getRes=function(e){return this[e]},t._ins=null,__decorate([a({type:cc.AudioClip})],t.prototype,"all_clear",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"ball_fire",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"game_over",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"gameover_settle_part",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"gameover_settle_total",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"high_hit",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"impact_brick",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"impact_brick2",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"impact_brick3",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"impact_item",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"v_down",void 0),t=i=__decorate([n],t)}(cc.Component);i.default=r,cc._RF.pop()},{}],Ball:[function(e,t,i){"use strict";cc._RF.push(t,"d44d8SJUNhJT4sFwRBBgbZT","Ball"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./../../G"),n=cc._decorator,a=n.ccclass,r=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.iconPicList=[],t.icon_trace_list=[],t._status=1,t._impactWallCount=0,t._fireTime=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},set:function(e){switch(this._status=e,e){case o.EnumBallStatus.ready:this.impactWallCount=0;break;case o.EnumBallStatus.onfire:this._fireTime=0,this.impactWallCount=0;break;case o.EnumBallStatus.onland:this.rigidBody.linearVelocity=cc.v2(0,0);var t=cc.sequence(cc.moveTo(.1,cc.v2(o.G.GameMgr.ins().ballInitPos.x,o.G.GameMgr.ins().ballInitPos.y)),cc.callFunc(function(){},this));this.node.runAction(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"impactWallCount",{get:function(){return this._impactWallCount},set:function(e){this._impactWallCount=e,20==this._impactWallCount?(cc.log("\u649e\u5899\u8d85\u8fc720\u6b21"),this.rigidBody.linearVelocity=cc.v2(this.rigidBody.linearVelocity.x,4*this.rigidBody.linearVelocity.y),this.caculate_linearVelocity()):50==this._impactWallCount&&(cc.log("\u649e\u5899\u8d85\u8fc750\u6b21"),this.rigidBody.linearVelocity=cc.v2(this.rigidBody.linearVelocity.x,10*this.rigidBody.linearVelocity.y),this.caculate_linearVelocity(),this._impactWallCount=0)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){},t.prototype.init=function(){this.rigidBody=this.getComponent(cc.RigidBody),this.rigidBody.linearDamping=0,this.status=o.EnumBallStatus.ready,this.updateShapeImg(-1)},t.prototype.fireBall=function(e,t){this.status==o.EnumBallStatus.ready&&(this.status=o.EnumBallStatus.onfire,o.G.SoundMgr.ins().playSound("ball_fire"),this.rigidBody.linearVelocity=cc.v2(e,t),this.caculate_linearVelocity())},t.prototype.caculate_linearVelocity=function(){Math.abs(this.rigidBody.linearVelocity.y)<o.G.GameConst.ball_radius&&(this.rigidBody.linearVelocity=cc.v2(this.rigidBody.linearVelocity.x,this.rigidBody.linearVelocity.y>=0?o.G.GameConst.ball_radius:-o.G.GameConst.ball_radius));var e=this.rigidBody.linearVelocity.x,t=this.rigidBody.linearVelocity.y,i=o.G.GameConst.ball_fire_speed*o.G.GameMgr.ins().p2wordFrame/Math.sqrt(e*e+t*t);if(Math.abs(i-1)>.01){var n=t*i;n=Math.abs(n)<o.G.GameConst.ball_radius?(n>0?1:-1)*o.G.GameConst.ball_radius:n,this.rigidBody.linearVelocity=cc.v2(e*i,n)}},t.prototype.onEndContact=function(e,t,i){switch(i.tag){case 1:this.status==o.EnumBallStatus.onfire&&(0==o.G.GameMgr.ins().fireEndBallCount&&(o.G.GameMgr.ins().ballInitPos=cc.v2(this.node.x,o.G.GameMgr.ins().ballInitPos.y)),this.status=o.EnumBallStatus.onland,o.G.GameMgr.ins().fireEndBallCount+=1);break;case 2:this.status==o.EnumBallStatus.onfire&&this.impactWallCount++;break;default:this.status==o.EnumBallStatus.onfire&&(this.impactWallCount=0,this.caculate_linearVelocity())}},t.prototype.dispose=function(){this.node&&this.node.isValid&&this.node.destroy()},t.prototype.updateShapeImg=function(e){e=e>=0?e:this.getBallImgType(),this.icon.spriteFrame=this.iconPicList[e],this.getComponent(cc.MotionStreak).texture=this.icon_trace_list[e].getTexture()},t.prototype.getBallImgType=function(){return[1,3,8].indexOf(o.G.GameModel.ins().totalScoreMultiple)||0},t.prototype.update=function(){},t.prototype.updateTrace=function(){var e=parseInt(cc.ENGINE_VERSION);this.status!=o.EnumBallStatus.ready&&e<2&&this.getComponent(cc.MotionStreak)._onNodePositionChanged&&this.getComponent(cc.MotionStreak)._onNodePositionChanged()},__decorate([r(cc.Sprite)],t.prototype,"icon",void 0),__decorate([r([cc.SpriteFrame])],t.prototype,"iconPicList",void 0),__decorate([r([cc.SpriteFrame])],t.prototype,"icon_trace_list",void 0),t=__decorate([a],t)}(cc.Component);i.default=s,cc._RF.pop()},{"./../../G":"G"}],BetItem:[function(e,t,i){"use strict";cc._RF.push(t,"825ed7OUeFI/KPZ7dgzxn42","BetItem"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.img_mask=null,t.maxCdConfig=[0],t.count=0,t.index=0,t.mc_select=null,t._cd=0,t._maxCd=0,t._useCount=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"cd",{get:function(){return this._cd},set:function(e){this._cd=e<0?0:e,this.updateMask()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useCount",{get:function(){return this._useCount},set:function(e){this._useCount=e,e<this.maxCdConfig.length?this._maxCd=this.maxCdConfig[e]:this._maxCd=this.maxCdConfig[this.maxCdConfig.length-1],this.updateMask()},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.useCount=this._useCount},t.prototype.updateMask=function(){this._maxCd>0?(this.img_mask.height=74*(this._maxCd-this._cd)/this._maxCd,this.mc_select.active=0==this._cd):this.img_mask.height=74},t.prototype.useItem=function(){this.useCount++,this.cd=this._maxCd},__decorate([a(cc.Node)],t.prototype,"img_mask",void 0),__decorate([a([cc.Integer])],t.prototype,"maxCdConfig",void 0),__decorate([a(cc.Integer)],t.prototype,"count",void 0),__decorate([a(cc.Integer)],t.prototype,"index",void 0),__decorate([a(cc.Node)],t.prototype,"mc_select",void 0),t=__decorate([n],t)}(cc.Component);i.default=r,cc._RF.pop()},{}],Brick:[function(e,t,i){"use strict";cc._RF.push(t,"02748ySON1C3qjQYc8KU4Kc","Brick"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./../../G"),n=e("./Ball"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lb_hp=null,t.icon=null,t.iconPicList=[],t.normalPicList=[],t._hp=0,t._star=0,t._brickType=1,t}return __extends(t,e),Object.defineProperty(t.prototype,"hp",{get:function(){return this._hp},set:function(e){this._hp;this._hp=e,this._brickType==o.EnumBrickType.normal&&e>0?this.lb_hp.string=""+e:this.lb_hp.string="",e<=0&&this.dispose()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"star",{get:function(){return this._star},set:function(e){this._star;this._star=e,this._brickType==o.EnumBrickType.normal&&e>0&&(this.icon.spriteFrame=this.normalPicList[e]||this.normalPicList[this.normalPicList.length-1])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brickType",{get:function(){return this._brickType},enumerable:!0,configurable:!0}),t.prototype.init=function(e,t,i){this.node.position=e,this._brickType=i,this.hp=t,this.icon.spriteFrame=this.iconPicList[i]||this.iconPicList[0],this.lb_hp.node.active=this._brickType==o.EnumBrickType.normal},t.prototype.impactBall=function(e){o.G.GameConst.map_Rectangle;switch(this.hp>0&&(8==o.G.GameModel.ins().totalScoreMultiple?o.G.SoundMgr.ins().playSound("impact_brick3"):3==o.G.GameModel.ins().totalScoreMultiple?o.G.SoundMgr.ins().playSound("impact_brick2"):o.G.SoundMgr.ins().playSound("impact_brick")),this._brickType){case o.EnumBrickType.ball:if(this.hp>0)o.G.GameMgr.ins().createBallItem(cc.v2(this.node.position),cc.v2(e.rigidBody.linearVelocity)).status=o.EnumBallStatus.onfire;this.hp--;break;case o.EnumBrickType.cd_item:this.hp>0&&o.G.GameMgr.ins().reduceBetCd(2),this.hp--;break;case o.EnumBrickType.normal:this.hp>0&&(o.G.GameModel.ins().totalScore+=this.star*o.G.GameModel.ins().totalScoreMultiple,o.G.GameMgr.ins().ballCollisionBrickCount++),this.hp--}},t.prototype.onBeginContact=function(e,t,i){switch(i.tag){case 0:this.impactBall(i.node.getComponent(n.default)),o.G.GameMgr.ins().ballCollisionBrickCount++}},t.prototype.dispose=function(){this.node&&this.node.isValid&&this.node.destroy()},__decorate([s(cc.Label)],t.prototype,"lb_hp",void 0),__decorate([s(cc.Sprite)],t.prototype,"icon",void 0),__decorate([s([cc.SpriteFrame])],t.prototype,"iconPicList",void 0),__decorate([s([cc.SpriteFrame])],t.prototype,"normalPicList",void 0),t=__decorate([r],t)}(cc.Component);i.default=c,cc._RF.pop()},{"./../../G":"G","./Ball":"Ball"}],GameConst:[function(e,t,i){"use strict";cc._RF.push(t,"c640dWSihFCPY4bO7Ej3HGA","GameConst"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(){}return e.init=function(e){for(var t in e)this.game_cfg[t]=e[t];this.sdk_match_parameters.sceneId=Number(this.sdk_match_parameters.sceneId||1001)},e.getGameConfig=function(e){return this.game_cfg.length<=e?this.game_cfg[this.game_cfg.length-1]:this.game_cfg[e]},e.isSdk=void 0!=cc.avia,e.appVersion="0.18121202",e.isDebug=!1,e.sdk_chip_count=0,e.sdk_cash_count=0,e.hasPaused=!1,e.isTimeOut=!1,e.gametype=1,e.randomSeed="0123456789ABCDEF",e.bestTodayScore=0,e.bestAllTimeScore=0,e.map_Rectangle=cc.rect(25,114,700,1100),e.ball_radius=18,e.ball_fire_speed=1500,e.ball_InitPos=cc.v2((e.map_Rectangle.width+e.map_Rectangle.x)/2,e.map_Rectangle.y+e.ball_radius+10),e.brick_radius=50,e.ballCollisionBrickCount_score={100:{score:1e3,index:0,text:0},500:{score:5e3,index:1,text:1},2000:{score:2e4,index:2,text:2},5000:{score:1e5,index:3,text:3}},e.game_cfg=[],e}();i.default=o,cc._RF.pop()},{}],GameMgr:[function(e,t,i){"use strict";cc._RF.push(t,"e4ca2gr1TFCaLuG69njfLdJ","GameMgr"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./../../G"),n=e("../Game"),a=function(){function e(){this._ballInitPos=cc.v2(o.G.GameConst.ball_InitPos.x,o.G.GameConst.ball_InitPos.y),this._status=o.EnumGameStatus.Ready,this._lastStatus=o.EnumGameStatus.Ready,this._fireEndBallCount=0,this._ballCollisionBrickCount=0,this._p2wordFrame=1,this._fireBallXY=[0,0],this._fireBallTimer=0}return e.ins=function(){return this._ins||(this._ins=new e),this._ins},Object.defineProperty(e.prototype,"ballInitPos",{get:function(){return this._ballInitPos},set:function(e){this._ballInitPos=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastStatus",{get:function(){return this._lastStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},set:function(e){var t=this.getGameView(),i=this._status;switch(this._status!=e&&(this._lastStatus=this._status),this._status=e,e){case o.EnumGameStatus.Ready:if(i==o.EnumGameStatus.Onfire&&o.G.GameModel.ins().level>0){for(var n=o.G.GameConst.getGameConfig(o.G.GameModel.ins().level),a=!1,r=0,s=t.bricks;r<s.length;r++){var c=s[r];if(c.brickType==o.EnumBrickType.normal&&c&&c.node&&c.node.isValid){a=!0;break}}a||(o.G.GameModel.ins().totalScore+=n.all_clear_score,o.G.SoundMgr.ins().playSound("all_clear"),t.playTextImgEffect(4))}i!=o.EnumGameStatus.Pause&&(this.fireEndBallCount=0,this.ballCollisionBrickCount=0,this.p2wordFrame=1,o.G.GuideMgr.ins().hasGuide()?o.G.GuideMgr.ins().checkNextGuide():this.nextLevel(),t.lb_ball_count.node.setPosition(this.ballInitPos.x,t.lb_ball_count.node.y));break;case o.EnumGameStatus.Onfire:if(i!=o.EnumGameStatus.Pause){t.nextLevelCount=0;var l=t.getSelectedBetItem();l.useItem(),o.G.GameModel.ins().totalScoreMultiple=l.count,t.setBetListIndex(0)}break;case o.EnumGameStatus.Pause:}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fireEndBallCount",{get:function(){return this._fireEndBallCount},set:function(e){this._fireEndBallCount=e,e==this.getGameView().balls.length&&(this.status=o.EnumGameStatus.Ready)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ballCollisionBrickCount",{get:function(){return this._ballCollisionBrickCount},set:function(e){var t=this.getGameView();this._ballCollisionBrickCount=e;var i=o.G.GameConst.ballCollisionBrickCount_score[e];i&&(o.G.GameModel.ins().totalScore+=i.score,t.playTextImgEffect(i.text),3==i.index&&o.G.SoundMgr.ins().playSound("higt_hit"))},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.getGameView=function(){return cc.director.getScene().getChildByName("Canvas").getComponent(n.default)},e.prototype.resetGame=function(){cc.director.getPhysicsManager().enabled=!0,o.G.GameModel.ins().resetData();var e=this.getGameView();e.resetView(),this._ballInitPos=cc.v2(o.G.GameConst.ball_InitPos.x,o.G.GameConst.ball_InitPos.y);for(var t=0,i=e.balls;t<i.length;t++){i[t].dispose()}for(var n=0,a=e.bricks;n<a.length;n++){a[n].dispose()}if(e.balls=[],e.bricks=[],o.G.GuideMgr.ins().hasGuide()){e.guide_view.show();for(var r=0;r<5;r++)this.createBallItem()}else{for(r=0;r<1;r++)this.createBallItem();o.G.MarkDataUtil.markGameActionData(o.EnumMarkEventId.BEGIN_GAME,{desc:"brickz begin game"},!0)}this.status=o.EnumGameStatus.Ready,this._fireBallTimer&&clearInterval(this._fireBallTimer),o.G.MarkDataUtil.markGameDateByHeart(!0)},e.prototype.nextLevel=function(){if(this.status!=o.EnumGameStatus.GameOver){for(var e=o.G.GameConst.map_Rectangle,t=this.getGameView(),i=0,n=t.balls;i<n.length;i++){n[i].status=o.EnumBallStatus.ready}t.updateBallCountView(t.balls.length);for(var a=0;a<t.bricks.length;a++){(b=t.bricks[a]).node&&b.node.isValid||(t.bricks.splice(a,1),a--)}for(var r=3*o.G.GameConst.brick_radius+e.y,s=0,c=t.bricks;s<c.length;s++){if((b=c[s]).node.position.y<=r){if(b.brickType==o.EnumBrickType.normal)return void this.showGameOverView();b.dispose()}}o.G.GameModel.ins().level++;for(var l=t.balls.length,u=0,d=t.bricks;u<d.length;u++){(b=d[u]).node.runAction(cc.moveBy(.1,0,2*-o.G.GameConst.brick_radius)),b.brickType==o.EnumBrickType.ball&&l++}var _=e.width/(2*o.G.GameConst.brick_radius),p=o.G.GameModel.ins().level,h=o.G.GameConst.getGameConfig(p);if(o.G.GuideMgr.ins().hasGuide()){var m=o.G.GuideMgr.ins().getNextLevelBrick();if(m)for(a=0;a<_;a++)if(m[a]){var g=cc.v2(e.x+(2*a+1)*o.G.GameConst.brick_radius,e.y+e.height-3*o.G.GameConst.brick_radius);(b=this.createBrickItem(g,m[a].hp)).star=m[a].star}}else{var G=p<=l?h.ball_count_low:h.ball_count_high,f=o.G.RandomMgr.ins().randomNumArray(0,_-1,o.G.RandomMgr.ins().randomNum(G[0],G[1])),y=o.G.RandomMgr.ins().randomNumArray(0,_-1,o.G.RandomMgr.ins().randomNum(h.brick_count[0],h.brick_count[1]),f);for(a=0;a<_;a++){g=cc.v2(e.x+(2*a+1)*o.G.GameConst.brick_radius,e.y+e.height-3*o.G.GameConst.brick_radius);if(f.indexOf(a)>=0)this.createBrickItem(g,1,o.EnumBrickType.ball);else if(y.indexOf(a)>=0){var b,v=o.G.RandomMgr.ins().getPercentProbability(h.brick_hp_add_probability)?Math.ceil(p*h.brick_hp_add/100):p;(b=this.createBrickItem(g,v)).star=h.brick_star[o.G.RandomMgr.ins().randomNum(0,h.brick_star.length-1)]}else o.G.RandomMgr.ins().getPercentProbability(h.cd_item_probability)&&this.createBrickItem(g,1,o.EnumBrickType.cd_item)}}this.reduceBetCd(1),t.nextLevelView(),this.updateBallsShapeImg()}},e.prototype.updateBallsShapeImg=function(){for(var e=this.getGameView(),t=e.getSelectedBetItem().index,i=0,o=e.balls;i<o.length;i++){o[i].updateShapeImg(t)}},e.prototype.reduceBetCd=function(e){this.getGameView().reduceBetCd(e)},e.prototype.showGameOverView=function(){cc.log("game over");for(var e=this.getGameView(),t=0,i=e.bricks;t<i.length;t++){i[t].dispose()}e.bricks=[];for(var n=0,a=e.balls;n<a.length;n++){a[n].dispose()}e.balls=[],e.updateBallCountView(e.balls.length),this.status=o.EnumGameStatus.GameOver,this.getGameView().gameover_view.show()},e.prototype.createBallItem=function(e,t){return void 0===e&&(e=cc.v2(this._ballInitPos.x,this._ballInitPos.y)),void 0===t&&(t=cc.v2(0,0)),this.getGameView().createBallItem(e,t)},e.prototype.createBrickItem=function(e,t,i){return void 0===i&&(i=o.EnumBrickType.normal),this.getGameView().createBrickItem(e,t,i)},Object.defineProperty(e.prototype,"p2wordFrame",{get:function(){return this._p2wordFrame},set:function(e){this._p2wordFrame=e},enumerable:!0,configurable:!0}),e.prototype.fireBall=function(e,t){var i=this;this._fireBallXY=[e,t],this._fireBallTimer&&clearInterval(this._fireBallTimer),this._fireBallTimer=setInterval(function(){i._fireBall()},100),this.status=o.EnumGameStatus.Onfire,this._fireBall()},e.prototype._fireBall=function(){if(this.status==o.EnumGameStatus.Onfire){for(var e=this._fireBallXY,t=e[0],i=e[1],n=(this._ballInitPos.x,this.getGameView()),a=0,r=0,s=n.balls;r<s.length;r++){(u=s[r]).status==o.EnumBallStatus.ready&&a++}if(0!=a)for(var c=0,l=n.balls;c<l.length;c++){var u;if((u=l[c]).status==o.EnumBallStatus.ready){u.fireBall(t,i),n.updateBallCountView(a-1);break}}else this._fireBallTimer&&clearInterval(this._fireBallTimer)}},e}();i.default=a,cc._RF.pop()},{"../Game":"Game","./../../G":"G"}],GameModel:[function(e,t,i){"use strict";cc._RF.push(t,"13621r8gZxB7ZilQd36cETp","GameModel"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../G"),n=function(){function e(){this._totalScore=0,this._totalScoreMultiple=1,this._level=0}return e.ins=function(){return this._ins||(this._ins=new e),this._ins},Object.defineProperty(e.prototype,"totalScore",{get:function(){return this._totalScore},set:function(e){var t=this._totalScore;this._totalScore=e,o.G.GameMgr.ins().getGameView().updateScoreView(t),o.G.MarkDataUtil._gameScore=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalScoreMultiple",{get:function(){return this._totalScoreMultiple},set:function(e){this._totalScoreMultiple;this._totalScoreMultiple=e,e>1&&!o.G.GuideMgr.ins().hasGuide()&&(o.G.GuideMgr.ins().hasUseBet=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this._level;this._level=e,o.G.MarkDataUtil._gameLevel=e},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.resetData()},e.prototype.resetData=function(){this.level=0,this.totalScore=0},e}();i.default=n,cc._RF.pop()},{"../../G":"G"}],GameOver:[function(e,t,i){"use strict";cc._RF.push(t,"85363ZLqVdNQaFUJGWLpO47","GameOver"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../G"),n=cc._decorator,a=n.ccclass,r=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lb_score_desc=null,t.lb_sore=null,t.lb_best_today=null,t.lb_best_all_time=null,t.lb_best_today_num=null,t.lb_today_new=null,t.lb_best_all_time_num=null,t.lb_all_time_new=null,t.btn_reset=null,t.mask_btn_submit=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.btn_reset.node.on("click",this.submitScore,this)},t.prototype.submitScore=function(){this.unschedule(this.autoCommit),o.G.MarkDataUtil.markGameActionData(o.EnumMarkEventId.SUBMIT_SCORE,{desc:"brickz SUBMIT_SCORE",game_score:o.G.GameModel.ins().totalScore,game_level:o.G.GameModel.ins().level},!0),o.G.GameConst.isSdk?cc.avia.endMatch(o.G.GameModel.ins().totalScore):(o.G.GuideMgr.ins().guideType=1,o.G.GuideMgr.ins().resetData(),o.G.GameMgr.ins().resetGame()),this.hide()},t.prototype.show=function(){this.node.active=!0,o.G.SoundMgr.ins().playSound("game_over"),o.G.MarkDataUtil.markGameDateByHeart(!1),o.G.GameConst.isSdk&&cc.avia.reportEnterSuccess("end_game");var e=o.G.GameModel.ins().totalScore;this.lb_sore.string=""+e,e>o.G.GameConst.bestTodayScore?(this.lb_today_new.active=!0,this.lb_best_today.node.color=this.lb_best_today_num.node.color=cc.Color.YELLOW,o.G.GameConst.bestTodayScore=e):(this.lb_today_new.active=!1,this.lb_best_today.node.color=this.lb_best_today_num.node.color=cc.Color.WHITE),this.lb_best_today_num.string=""+o.G.GameConst.bestTodayScore,e>o.G.GameConst.bestAllTimeScore?(this.lb_all_time_new.active=!0,this.lb_best_all_time.node.color=this.lb_best_all_time_num.node.color=cc.Color.YELLOW,o.G.GameConst.bestAllTimeScore=e,o.G.LocalStorageMgr.ins().setLocal(o.G.LocalStorageMgr.KEY_BEST_SCORE,e)):(this.lb_all_time_new.active=!1,this.lb_best_all_time.node.color=this.lb_best_all_time_num.node.color=cc.Color.WHITE),this.lb_best_all_time_num.string=""+o.G.GameConst.bestAllTimeScore,this.node.opacity=10,this.node.runAction(cc.fadeIn(1)),this.mask_btn_submit.width=495,this.schedule(this.autoCommit,.1,cc.macro.REPEAT_FOREVER,3),this.lb_fadeIn(this.lb_score_desc.node,.25,"gameover_settle_total"),this.lb_fadeIn(this.lb_sore.node,.5),this.lb_fadeIn(this.lb_best_today.node,.75,"gameover_settle_part"),this.lb_fadeIn(this.lb_best_today_num.node,1),this.lb_fadeIn(this.lb_today_new,1.25),this.lb_fadeIn(this.lb_best_all_time.node,1.5,"gameover_settle_part"),this.lb_fadeIn(this.lb_best_all_time_num.node,1.75),this.lb_fadeIn(this.lb_all_time_new,2),this.lb_fadeIn(this.btn_reset.node,2.25,"gameover_settle_total")},t.prototype.lb_fadeIn=function(e,t,i){e.stopAllActions(),e.opacity=0,e.runAction(cc.sequence(cc.delayTime(t),cc.fadeIn(.25),cc.callFunc(function(){i&&o.G.SoundMgr.ins().playSound(i)})))},t.prototype.hide=function(){this.node.active=!1},t.prototype.autoCommit=function(e){this.mask_btn_submit.width-=9.9,this.mask_btn_submit.width<=0&&this.submitScore()},__decorate([r(cc.Label)],t.prototype,"lb_score_desc",void 0),__decorate([r(cc.Label)],t.prototype,"lb_sore",void 0),__decorate([r(cc.Label)],t.prototype,"lb_best_today",void 0),__decorate([r(cc.Label)],t.prototype,"lb_best_all_time",void 0),__decorate([r(cc.Label)],t.prototype,"lb_best_today_num",void 0),__decorate([r(cc.Node)],t.prototype,"lb_today_new",void 0),__decorate([r(cc.Label)],t.prototype,"lb_best_all_time_num",void 0),__decorate([r(cc.Node)],t.prototype,"lb_all_time_new",void 0),__decorate([r(cc.Button)],t.prototype,"btn_reset",void 0),__decorate([r(cc.Node)],t.prototype,"mask_btn_submit",void 0),t=__decorate([a],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../G":"G"}],GamePause:[function(e,t,i){"use strict";cc._RF.push(t,"b8aaa0BPLBLiLveG3zrQWN+","GamePause"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../G"),n=cc._decorator,a=n.ccclass,r=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lb_version=null,t.btn_resume=null,t.btn_reset=null,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;this.lb_version.string="v"+o.G.GameConst.appVersion,this.btn_resume.node.on("click",function(){e.hide()}),this.btn_reset.node.on("click",function(){e.hide(),o.G.GameMgr.ins().showGameOverView()})},t.prototype.show=function(){this.node.active=!0,this.btn_reset.interactable=this.btn_resume.interactable=!0,o.G.GameMgr.ins().status=o.EnumGameStatus.Pause,o.G.GameConst.isSdk&&!o.G.GameConst.hasPaused&&(cc.avia.reportEnterSuccess("pause"),o.G.GameConst.hasPaused=!0),o.G.MarkDataUtil.markGameDateByHeart(!1),cc.director.getPhysicsManager().enabled=!1},t.prototype.hide=function(){o.G.GameMgr.ins().status=o.G.GameMgr.ins().lastStatus,this.btn_reset.interactable=this.btn_resume.interactable=!1,o.G.MarkDataUtil.markGameDateByHeart(!0),cc.director.getPhysicsManager().enabled=!0,this.node.active=!1},__decorate([r(cc.Label)],t.prototype,"lb_version",void 0),__decorate([r(cc.Button)],t.prototype,"btn_resume",void 0),__decorate([r(cc.Button)],t.prototype,"btn_reset",void 0),t=__decorate([a],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../G":"G"}],Game:[function(e,t,i){"use strict";cc._RF.push(t,"b7b448QYFBJY4DSEocQlUYy","Game"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./item/Ball"),n=e("../G"),a=e("./item/Brick"),r=e("./view/GameOver"),s=e("./item/BetItem"),c=e("./view/GamePause"),l=e("./view/Guide"),u=cc._decorator,d=u.ccclass,_=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.physicsLayer=null,t.gameover_view=null,t.gamePause_view=null,t.guide_view=null,t.balls=[],t.bricks=[],t.img_tips=[],t.ballItem=null,t.btn_error=null,t.btn_reset=null,t.btn_next_level=null,t.btn_pause=null,t.brickItem=null,t.game_cfg=null,t.lb_version=null,t.lb_score=null,t.lb_ball_count=null,t.gp_point_line=null,t.gp_point_line_reflect=null,t.bet_btns=[],t.gp_weak_guide_finger=null,t.gp_weak_guide_bet=null,t._list_bet_index=0,t._weakFingerGuided=!1,t._nextLevelCount=0,t.shape_level_time=null,t._touchBeginPos=cc.v2(),t._hastouchBegin=!1,t._pointLineMul=7,t._fireBallDt=0,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;n.G.GameConst.isSdk&&cc.avia.reportEnterSuccess("begin_game"),n.G.RandomMgr.ins().init(),n.G.GameConst.init(this.game_cfg.json),n.G.GameMgr.ins().resetGame(),this.lb_version.string=n.G.GameConst.appVersion,cc.game.on(cc.game.EVENT_HIDE,function(){cc.log("\u8fdb\u5165\u540e\u53f0"),n.G.GuideMgr.ins().hasGuide()||n.G.GameMgr.ins().status==n.EnumGameStatus.GameOver||n.G.GameMgr.ins().status==n.EnumGameStatus.Pause||e.gamePause_view.show()},this),cc.game.on(cc.game.EVENT_SHOW,function(){cc.log("\u8fdb\u5165\u524d\u53f0")},this),this.btn_pause.node.on("click",function(){n.G.SoundMgr.ins().playSound("v_down"),e.gamePause_view.show()}),this.physicsLayer.on(cc.Node.EventType.TOUCH_START,this.onTouchBegin,this),this.physicsLayer.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.physicsLayer.on(cc.Node.EventType.TOUCH_END,this.onTouchTap,this),this.physicsLayer.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.initNextTimeLevel(),this.initBetItems(),cc.director.getPhysicsManager().on("before-step",function(){for(var t=0,i=e.balls;t<i.length;t++){i[t].updateTrace()}})},t.prototype.initTest=function(){this.btn_error.node.on("click",function(){throw new Error("error test")}),this.btn_reset.node.on("click",function(){n.G.GameMgr.ins().resetGame()}),this.btn_next_level.node.on("click",function(){n.G.GameMgr.ins().nextLevel()})},t.prototype.initBetItems=function(){for(var e=this,t=function(t){t.node.on("toggle",function(i){var o=t.getComponent(s.default);t.isChecked?(o&&o.cd<=0&&n.G.GuideMgr.ins().canSelectBetItem(o.index)?(e._list_bet_index=o.index,n.G.GameMgr.ins().status==n.EnumGameStatus.Ready&&n.G.GameMgr.ins().updateBallsShapeImg(),n.G.GuideMgr.ins().checkNextGuide(2),e.setBetListIndex(o.index)):e.setBetListIndex(e._list_bet_index),e.gp_weak_guide_bet.active&&(e.gp_weak_guide_bet.active=!1)):e._list_bet_index==o.index&&t.check()})},i=0,o=this.bet_btns;i<o.length;i++){t(o[i])}},t.prototype.initNextTimeLevel=function(){var e=this;setInterval(function(){if(n.G.GameMgr.ins().status==n.EnumGameStatus.Ready&&!n.G.GuideMgr.ins().hasGuide()){e._nextLevelCount>1&&(e.nextLevelCount=0,n.G.GameMgr.ins().nextLevel());var t=n.G.GameConst.getGameConfig(n.G.GameModel.ins().level).next_level_time;e.nextLevelCount+=.1/t,e.nextLevelCount>=.5&&!e._weakFingerGuided&&!e._hastouchBegin&&(e._weakFingerGuided=!0,n.G.GuideMgr.ins().checkWeakGuideFinger(1,!0))}},100)},Object.defineProperty(t.prototype,"nextLevelCount",{get:function(){return this._nextLevelCount},set:function(e){this._nextLevelCount=e,this.drawPerLevelTimeShape(1-e)},enumerable:!0,configurable:!0}),t.prototype.drawPerLevelTimeShape=function(e){this.shape_level_time.clear(),this.shape_level_time.lineTo(0,33),this.shape_level_time.arc(0,0,33,Math.PI/2,Math.PI/2+2*e*Math.PI,!0),this.shape_level_time.lineTo(0,0),this.shape_level_time.fill()},t.prototype.createBallItem=function(e,t){var i=cc.instantiate(this.ballItem);i.position=e;var n=i.getComponent(o.default);return n.init(),n.rigidBody.linearVelocity=t,this.balls.push(n),this.physicsLayer.addChild(i),n},t.prototype.createBrickItem=function(e,t,i){var o=cc.instantiate(this.brickItem),n=o.getComponent(a.default);return n.init(e,t,i),this.bricks.push(n),this.physicsLayer.addChild(o),n},t.prototype.resetView=function(){this.nextLevelCount=0,this.setBetListIndex(0);for(var e=0,t=this.bet_btns;e<t.length;e++){var i=t[e].getComponent(s.default);i.cd=0,i.useCount=0}this.shape_level_time.node.active=this.btn_pause.node.active=!n.G.GuideMgr.ins().hasGuide(),this.gp_weak_guide_bet.active=!1},t.prototype.onTouchBegin=function(e){n.G.GameMgr.ins().status==n.EnumGameStatus.Ready&&n.G.GuideMgr.ins().canFireBall()&&(this._touchBeginPos.set(e.getLocation()),this.calculateGuidePointsLine(this._touchBeginPos.x,this._touchBeginPos.y),this._hastouchBegin=!0,this._weakFingerGuided=!0,n.G.GuideMgr.ins().showOrHideTouchGuideTip(!1),this._weakFingerGuided&&n.G.GuideMgr.ins().checkWeakGuideFinger(2,!1))},t.prototype.onTouchMove=function(e){n.G.GameMgr.ins().status==n.EnumGameStatus.Ready&&this._hastouchBegin&&this.calculateGuidePointsLine(e.getLocationX(),e.getLocationY())},t.prototype.onTouchTap=function(e){var t=e.getLocationY(),i=e.getLocationX();if(n.G.GameMgr.ins().status==n.EnumGameStatus.Ready&&this._hastouchBegin)if(this._touchBeginPos.y-t<n.G.GameConst.ball_radius/2)cc.log("\u53d6\u6d88\u53d1\u5c04"),n.G.GuideMgr.ins().checkWeakGuideFinger(2,!0),n.G.GuideMgr.ins().showOrHideTouchGuideTip(!0);else{var o=(this._touchBeginPos.x-i)*this._pointLineMul,a=(this._touchBeginPos.y-t)*this._pointLineMul;n.G.GameMgr.ins().fireBall(o,a),n.G.GuideMgr.ins().checkWeakGuideFinger(1,!1),this.nextLevelCount=0}this.cleanGuideLinePoints(),this._hastouchBegin=!1},t.prototype.onTouchCancel=function(e){cc.log("onTouchCancel"),this.cleanGuideLinePoints(),this._hastouchBegin=!1},t.prototype.calculateGuidePointsLine=function(e,t){if(this._touchBeginPos.y-t<n.G.GameConst.ball_radius/2)this.cleanGuideLinePoints();else{var i=n.G.GameMgr.ins().ballInitPos.x,o=n.G.GameMgr.ins().ballInitPos.y;e=(this._touchBeginPos.x-e)*this._pointLineMul+i,t=(this._touchBeginPos.y-t)*this._pointLineMul+o;var a=n.G.GameConst.map_Rectangle,r=0,s=(t-o)/(e-i),c=o-i*s;r=-(r=i==e?t<=o?-90:90:180*Math.atan(s)/Math.PI+(e<i?180:0)),this.gp_point_line.setPosition(i-a.x,o-a.y),this.gp_point_line.active=!0,this.gp_point_line.rotation=r;var l=Math.sqrt(Math.pow(e-i,2)+Math.pow(t-o,2))/40;l<5&&(l=5),l>20&&(l=20),this.gp_point_line_reflect.getComponent(cc.Layout).spacingX=this.gp_point_line.getComponent(cc.Layout).spacingX=l;var u=void 0;if(s>0?u=750:s<0&&(u=0),void 0!=u){var d=s*u+c,_=Math.sqrt(Math.pow(u-i,2)+Math.pow(d-o,2));this.gp_point_line_reflect.active=_-l<=this.gp_point_line.width,this.gp_point_line_reflect.x=u-a.x,this.gp_point_line_reflect.y=d-a.y,this.gp_point_line_reflect.rotation=180-r}}},t.prototype.cleanGuideLinePoints=function(){this.gp_point_line_reflect.active=this.gp_point_line.active=!1},t.prototype.updateLevelView=function(){},t.prototype.updateScoreView=function(e){var t=n.G.GameModel.ins().totalScore;this.lb_score.string=""+t},t.prototype.updateBallCountView=function(e){this.lb_ball_count.string=e>0?""+e:""},t.prototype.reduceBetCd=function(e){for(var t=0,i=this.bet_btns;t<i.length;t++){i[t].getComponent(s.default).cd-=e}},t.prototype.getSelectedBetItem=function(){return this.bet_btns[this._list_bet_index].getComponent(s.default)},t.prototype.setBetListIndex=function(e){for(var t=0,i=this.bet_btns;t<i.length;t++){var o=i[t];o.getComponent(s.default).index==e?o.isChecked||o.check():o.isChecked&&o.uncheck()}this._list_bet_index=e},t.prototype.playTextImgEffect=function(e){var t=this.img_tips[e];t.active=!0,t.opacity=0,t.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(.5),cc.callFunc(function(){t.active=!1})))},t.prototype.nextLevelView=function(){n.G.SoundMgr.ins().playSound("v_down"),this._weakFingerGuided=!1,this.gp_weak_guide_finger.active=!1,n.G.GuideMgr.ins().weakGuideFingerShow=!1;n.G.GameConst.map_Rectangle;10!=n.G.GameModel.ins().level||n.G.GuideMgr.ins().hasUseBet||(n.G.GameConst.isSdk?1==n.G.GameConst.gametype&&n.G.GameConst.sdk_match_parameters.sceneId<2e3&&n.G.GameConst.sdk_chip_count<3&&(this.gp_weak_guide_bet.active=!0):this.gp_weak_guide_bet.active=!0),this._fireBallDt=0},t.prototype.update=function(e){if(n.G.GameMgr.ins().status==n.EnumGameStatus.Onfire){this._fireBallDt+=e;var t=this._fireBallDt>7?3:this._fireBallDt>3?1.8:1;if(t!=n.G.GameMgr.ins().p2wordFrame){n.G.GameMgr.ins().p2wordFrame=t;for(var i=0,o=this.balls;i<o.length;i++){var a=o[i];a.status==n.EnumBallStatus.onfire&&a.caculate_linearVelocity()}}}},__decorate([_(cc.Node)],t.prototype,"physicsLayer",void 0),__decorate([_(r.default)],t.prototype,"gameover_view",void 0),__decorate([_(c.default)],t.prototype,"gamePause_view",void 0),__decorate([_(l.default)],t.prototype,"guide_view",void 0),__decorate([_([cc.Node])],t.prototype,"img_tips",void 0),__decorate([_(cc.Prefab)],t.prototype,"ballItem",void 0),__decorate([_(cc.Button)],t.prototype,"btn_error",void 0),__decorate([_(cc.Button)],t.prototype,"btn_reset",void 0),__decorate([_(cc.Button)],t.prototype,"btn_next_level",void 0),__decorate([_(cc.Button)],t.prototype,"btn_pause",void 0),__decorate([_(cc.Prefab)],t.prototype,"brickItem",void 0),__decorate([_(cc.JsonAsset)],t.prototype,"game_cfg",void 0),__decorate([_(cc.Label)],t.prototype,"lb_version",void 0),__decorate([_(cc.Label)],t.prototype,"lb_score",void 0),__decorate([_(cc.Label)],t.prototype,"lb_ball_count",void 0),__decorate([_(cc.Node)],t.prototype,"gp_point_line",void 0),__decorate([_(cc.Node)],t.prototype,"gp_point_line_reflect",void 0),__decorate([_([cc.Toggle])],t.prototype,"bet_btns",void 0),__decorate([_(cc.Node)],t.prototype,"gp_weak_guide_finger",void 0),__decorate([_(cc.Node)],t.prototype,"gp_weak_guide_bet",void 0),__decorate([_(cc.Graphics)],t.prototype,"shape_level_time",void 0),t=__decorate([d],t)}(cc.Component);i.default=p,cc._RF.pop()},{"../G":"G","./item/Ball":"Ball","./item/BetItem":"BetItem","./item/Brick":"Brick","./view/GameOver":"GameOver","./view/GamePause":"GamePause","./view/Guide":"Guide"}],GuideMgr:[function(e,t,i){"use strict";cc._RF.push(t,"b34aaP1XT5CNpL9P9BnHVHH","GuideMgr"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./../../G"),n=function(){function e(){this._guideType=0,this._guideStep=0,this._hasUseBet=!1,this._guideBricks=[[,,{hp:1,star:1},,,{hp:1,star:1},{hp:1,star:1}],[,{hp:1,star:1},{hp:1,star:1},{hp:1,star:1},,{hp:1,star:1}],[,,{hp:1,star:1},{hp:1,star:3},{hp:1,star:5},{hp:1,star:7},{hp:1,star:10}],[,{hp:5,star:10},{hp:5,star:10},{hp:5,star:10},{hp:5,star:10},{hp:5,star:10}]],this._weakGuideFingerCount=0,this._weakGuideFingerShow=!1}return e.ins=function(){return this._ins||(this._ins=new e),this._ins},Object.defineProperty(e.prototype,"guideType",{get:function(){return this._guideType},set:function(e){this._guideType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"guideStep",{get:function(){return this._guideStep},set:function(e){this._guideStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasUseBet",{get:function(){return this._hasUseBet},set:function(e){this._hasUseBet=e},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.resetData()},e.prototype.resetData=function(){this.guideStep=0,this.hasUseBet=!1,this._weakGuideFingerCount=0,this._weakGuideFingerShow=!1},e.prototype.hasGuide=function(){return 0!=this.guideType},e.prototype.getNextLevelBrick=function(){return this._guideBricks[this._guideStep]},e.prototype.checkNextGuide=function(e){if(void 0===e&&(e=1),1==this.guideType)switch(this._guideStep){case 0:1==e&&o.G.GameMgr.ins().nextLevel();break;case 1:case 2:1==e&&(this.showNextGuide(),o.G.GameMgr.ins().nextLevel(),o.G.GameMgr.ins().reduceBetCd(999));break;case 3:2==e&&this.showNextGuide();break;case 4:1==e&&this.showNextGuide()}},e.prototype.showNextGuide=function(){o.G.GameMgr.ins().getGameView().guide_view.showNextStep()},e.prototype.canFireBall=function(){return 1!=this._guideType||3!=this._guideStep},e.prototype.canSelectBetItem=function(e){return 1!=this._guideType||(3==this._guideStep?2==e:4!=this._guideStep)},e.prototype.showOrHideTouchGuideTip=function(e){this.hasGuide()&&o.G.GameMgr.ins().getGameView().guide_view.showOrHideTouchGuideTip(e)},Object.defineProperty(e.prototype,"weakGuideFingerShow",{get:function(){return this._weakGuideFingerShow},set:function(e){this._weakGuideFingerShow=e},enumerable:!0,configurable:!0}),e.prototype.checkWeakGuideFinger=function(e,t){if(!this.hasGuide()){var i=o.G.GameMgr.ins().getGameView();if(this._weakGuideFingerCount<3&&(!o.G.GameConst.isSdk||o.G.GameConst.sdk_cash_count+o.G.GameConst.sdk_chip_count<3))switch(e){case 1:t||this._weakGuideFingerShow&&this._weakGuideFingerCount++,this._weakGuideFingerShow=i.gp_weak_guide_finger.active=t;break;case 2:this._weakGuideFingerShow&&(i.gp_weak_guide_finger.active=t)}}},e}();i.default=n,cc._RF.pop()},{"./../../G":"G"}],Guide:[function(e,t,i){"use strict";cc._RF.push(t,"a8411L1X4pNk4fApO+j4kiX","Guide"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../G"),n=cc._decorator,a=n.ccclass,r=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg_shape=null,t.viewStack_guideStep=[],t.btn_start=null,t.btn_play=null,t.btn_skip=null,t.guideTouchTipObjs=[],t.img_finger1=null,t.img_finger2=null,t.gp_lb_brick_score=null,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;this.addTouchTapEvent(this.btn_skip.node,function(){e.skipGuide()}),this.addTouchTapEvent(this.btn_play.node,function(){e.skipGuide()}),this.addTouchTapEvent(this.btn_start.node,function(){e.showNextStep(),o.G.GameMgr.ins().nextLevel(),e.btn_start.node.active=!1}),this.runAnimation()},t.prototype.addTouchTapEvent=function(e,t,i){e.on("click",t,this,i)},t.prototype.showNextStep=function(){o.G.GuideMgr.ins().guideStep++,this.selectedView()},t.prototype.skipGuide=function(){this.btn_skip.node.active=this.btn_play.node.active=!1,o.G.GuideMgr.ins().guideType=0,o.G.GuideMgr.ins().resetData(),o.G.GameMgr.ins().resetGame(),this.hide()},t.prototype.showOrHideTouchGuideTip=function(e){for(var t=0,i=this.guideTouchTipObjs;t<i.length;t++){i[t].active=e}},t.prototype.show=function(){this.node.active=!0,this.btn_start.node.active=this.btn_play.node.active=this.btn_skip.node.active=!0,this.selectedView()},t.prototype.hide=function(){this.node.active=!1},t.prototype.selectedView=function(){this.showOrHideTouchGuideTip(!0);var e=o.G.GuideMgr.ins().guideStep;this.bg_shape.active=5==e||0==e;for(var t=0;t<this.viewStack_guideStep.length;t++){var i=this.viewStack_guideStep[t];t==e?(i.active=!0,i.opacity=0,i.runAction(cc.fadeIn(.3))):i.active=!1}},t.prototype.runAnimation=function(){var e=cc.sequence([cc.moveBy(.75,0,10),cc.moveBy(0,0,-10)]).repeatForever();this.gp_lb_brick_score.runAction(e)},t.prototype.stopAnimation=function(){},__decorate([r(cc.Node)],t.prototype,"bg_shape",void 0),__decorate([r([cc.Node])],t.prototype,"viewStack_guideStep",void 0),__decorate([r(cc.Button)],t.prototype,"btn_start",void 0),__decorate([r(cc.Button)],t.prototype,"btn_play",void 0),__decorate([r(cc.Button)],t.prototype,"btn_skip",void 0),__decorate([r([cc.Node])],t.prototype,"guideTouchTipObjs",void 0),__decorate([r(cc.Node)],t.prototype,"img_finger1",void 0),__decorate([r(cc.Node)],t.prototype,"img_finger2",void 0),__decorate([r(cc.Node)],t.prototype,"gp_lb_brick_score",void 0),t=__decorate([a],t)}(cc.Component);i.default=s,cc._RF.pop()},{"../../G":"G"}],G:[function(e,t,i){"use strict";cc._RF.push(t,"76ff0MTN91M9aPm7UbJ6ETC","G"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./game/mgr/GameMgr"),n=e("./game/GameConst"),a=e("./game/model/GameModel"),r=e("./base/MarkDataUtil"),s=e("./base/LocalStorageMgr"),c=e("./game/mgr/GuideMgr"),l=e("./base/RandomMgr"),u=e("./base/MyPromise"),d=e("./base/SoundMgr");(function(e){e[e.ready=1]="ready",e[e.onfire=2]="onfire",e[e.onland=3]="onland"})(i.EnumBallStatus||(i.EnumBallStatus={})),function(e){e[e.Ready=1]="Ready",e[e.Onfire=2]="Onfire",e[e.Pause=3]="Pause",e[e.GameOver=4]="GameOver"}(i.EnumGameStatus||(i.EnumGameStatus={})),function(e){e[e.normal=1]="normal",e[e.ball=2]="ball",e[e.cd_item=3]="cd_item"}(i.EnumBrickType||(i.EnumBrickType={})),function(e){e[e.UNDEFINE=0]="UNDEFINE"}(i.EnumRandomSeedType||(i.EnumRandomSeedType={})),function(e){e[e.HEARTTIME=100601]="HEARTTIME",e[e.BEGIN_GAME=100602]="BEGIN_GAME",e[e.SUBMIT_SCORE=100603]="SUBMIT_SCORE"}(i.EnumMarkEventId||(i.EnumMarkEventId={}));var _=function(){function e(){}return e.GameConst=n.default,e.GameMgr=o.default,e.GameModel=a.default,e.MarkDataUtil=r.default,e.LocalStorageMgr=s.default,e.GuideMgr=c.default,e.RandomMgr=l.default,e.Promise=u.default,e.SoundMgr=d.default,e}();i.G=_,cc._RF.pop()},{"./base/LocalStorageMgr":"LocalStorageMgr","./base/MarkDataUtil":"MarkDataUtil","./base/MyPromise":"MyPromise","./base/RandomMgr":"RandomMgr","./base/SoundMgr":"SoundMgr","./game/GameConst":"GameConst","./game/mgr/GameMgr":"GameMgr","./game/mgr/GuideMgr":"GuideMgr","./game/model/GameModel":"GameModel"}],LocalStorageMgr:[function(e,t,i){"use strict";cc._RF.push(t,"27608xWbSdMAb+KmeZjEvm4","LocalStorageMgr"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(){this._game_key="brickz_"}return e.ins=function(){return this._ins||(this._ins=new e),this._ins},e.prototype.setLocal=function(e,t){try{cc.sys.localStorage.setItem(this.str_encrypt(this._game_key+e),this.str_encrypt(t))}catch(e){}},e.prototype.getLocal=function(e,t){try{var i=cc.sys.localStorage.getItem(this.str_encrypt(this._game_key+e));if(null==i)return t;switch(i=this.str_decrypt(i),typeof t){case"boolean":return"true"==i;case"number":return Number(i)||t}return i}catch(e){return t}},e.prototype.str_encrypt=function(e){e=e.toString();for(var t=String.fromCharCode(e.charCodeAt(0)+11*e.length),i=1;i<e.length;i++)t+=String.fromCharCode(e.charCodeAt(i)+e.charCodeAt(i-1));return encodeURIComponent(t)},e.prototype.str_decrypt=function(e){e=e.toString(),e=decodeURIComponent(e);for(var t=String.fromCharCode(e.charCodeAt(0)-11*e.length),i=1;i<e.length;i++)t+=String.fromCharCode(e.charCodeAt(i)-t.charCodeAt(i-1));return t},e.KEY_MUSIC_VOLUME="KEY_MUSIC_VOLUME",e.KEY_SOUND_VOLUME="KEY_SOUND_VOLUME",e.KEY_BEST_SCORE="KEY_BEST_SCORE",e}();i.default=o,cc._RF.pop()},{}],Main:[function(e,t,i){"use strict";cc._RF.push(t,"e1b90/rohdEk4SdmmEZANaD","Main"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./G"),n=cc._decorator,a=n.ccclass,r=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lb_version=null,t.img_load=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.lb_version.string=o.G.GameConst.appVersion,this.runGame()},t.prototype.runGame=function(){var e=this;this.loadSdk().then(function(){e.createGameScene()})},t.prototype.loadSdk=function(){return new o.G.Promise(function(e,t){if(o.G.GameConst.isSdk){var i={onGameInited:function(t){console.log("sdk \u521d\u59cb\u5316\u6210\u529f!"),console.log(t),console.log(JSON.stringify(t)),o.G.GameConst.randomSeed=t.randoms||o.G.GameConst.randomSeed,o.G.GameConst.bestAllTimeScore=t.best_score||0,o.G.GameConst.bestTodayScore=t.today_best_score||0,o.G.GameConst.gametype=t.game_type||o.G.GameConst.gametype,o.G.MarkDataUtil._player_id=t.player_id||-1,o.G.GameConst.sdk_cash_count=t.cash_count||0,o.G.GameConst.sdk_chip_count=t.chip_count||0;var n=1==o.G.GameConst.gametype&&o.G.GameConst.sdk_cash_count+o.G.GameConst.sdk_chip_count<=0;o.G.GuideMgr.ins().guideType=n?1:0,o.G.GameConst.sdk_match_parameters={};try{var a=JSON.parse(t.match_parameters);o.G.GameConst.sdk_match_parameters=a}catch(e){}cc.avia.removeListener(i),e()}};cc.avia.addListener(i),cc.avia.init(o.G.GameConst.appVersion)}else o.G.GameConst.randomSeed=Math.round(1e3+8999*Math.random()).toString(),o.G.GameConst.bestAllTimeScore=o.G.LocalStorageMgr.ins().getLocal(o.G.LocalStorageMgr.KEY_BEST_SCORE,0),o.G.GameConst.sdk_match_parameters={},o.G.GuideMgr.ins().guideType=1,e()})},t.prototype.createGameScene=function(){console.log("\u52a0\u8f7dgame\u573a\u666f"),cc.director.loadScene("game",function(){})},__decorate([r(cc.Label)],t.prototype,"lb_version",void 0),__decorate([r(cc.Node)],t.prototype,"img_load",void 0),t=__decorate([a],t)}(cc.Component);i.default=s,cc._RF.pop()},{"./G":"G"}],MarkDataUtil:[function(e,t,i){"use strict";cc._RF.push(t,"f6c7diUBpRIsYAeHou1h5f5","MarkDataUtil"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../G"),n={_gameScore:-1,_gameLevel:-1,_player_id:-1,catchMarkData:[],markSendCount:0,_timeId:0,_timeId2:0,_starTime:(new Date).getTime(),markGameActionData:function(e,t,i){void 0===i&&(i=!1),t.os_time=(new Date).getTime(),this.catchMarkData.push({event_id:e,mark_data:t}),i&&this.maidianNow()},maidianNow:function(){o.G.GameConst.isSdk&&void 0!==cc.avia&&this.catchMarkData.length>0&&(this.markSendCount++,cc.avia.reportLog("brickz_"+this._player_id+"_"+this.markSendCount+"_"+o.G.GameConst.appVersion,JSON.stringify(this.catchMarkData)),this.catchMarkData=[])},markGameDateByHeart:function(e){var t=this,i=o.EnumMarkEventId.HEARTTIME;e?(this._timeId||(this._timeId=setInterval(function(){var e={desc:"brickz heart",os_time:(new Date).getTime(),game_level:t._gameLevel,game_score:t._gameScore};o.G.GuideMgr.ins().hasGuide()||t.markGameActionData(i,e,!0)},1e4)),this._timeId2||(this._timeId2=setInterval(function(){o.G.GuideMgr.ins().hasGuide()||t._gameScore>=0&&o.G.GameConst.isSdk&&t._gameLevel>0&&void 0!==cc.avia&&cc.avia.reportScore(t._gameScore,Math.round(((new Date).getTime()-n._starTime)/1e3))},15e3))):(this._timeId&&clearInterval(this._timeId),this._timeId=0,this.maidianNow(),this._timeId2&&clearInterval(this._timeId2),this._timeId2=0)}};i.default=n,cc._RF.pop()},{"../G":"G"}],MyPromise:[function(e,t,i){"use strict";function o(e){this.value,this.status="pending",this.resolveFunc=function(){},this.rejectFunc=function(){},e(this.resolve.bind(this),this.reject.bind(this))}cc._RF.push(t,"fdceeSD12hAzYD5FHlFWCIS","MyPromise"),Object.defineProperty(i,"__esModule",{value:!0}),o.prototype.resolve=function(e){var t=this;"pending"==this.status&&(this.status="resolved",this.value=e,setTimeout(function(){t.resolveFunc(t.value)},0))},o.prototype.reject=function(e){var t=this;"pending"==this.status&&(this.status="rejected",this.value=e,setTimeout(function(){t.rejectFunc(t.value)},0))},o.prototype.then=function(e,t){var i=this;return new o(function(o,n){i.resolveFunc=function(){var t=e(i.value);t&&"function"==typeof t.then?t.then(o,n):o(t)},i.rejectFunc=function(){var e=t(i.value);e&&"function"==typeof e.then?e.then(o,n):o(e)}})},i.default=o,cc._RF.pop()},{}],RandomMgr:[function(e,t,i){"use strict";cc._RF.push(t,"f072aMjWLtFuaFLfAMawDy6","RandomMgr"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../G"),n=function(){function e(){this._seeds=[],this._seedIndex=[],this._selectedIndexes=[]}return e.ins=function(){return this._ins||(this._ins=new e),this._ins},e.prototype.init=function(){var e=[0];this._seeds=[],this._selectedIndexes=[],this._seedIndex=[];for(var t=0,i=e;t<i.length;t++){var n=i[t];this._seeds[n]=[],this._selectedIndexes[n]=[],this._seedIndex[n]=0}for(var a=0;a<o.G.GameConst.randomSeed.length;a++){var r=parseInt(o.G.GameConst.randomSeed[a],36)||0;r=(9301*r+49297)%1048576||0;for(var s=0,c=e;s<c.length;s++){n=c[s];this._seeds[n].push(r)}}},e.prototype.randomNum=function(e,t,i){void 0===i&&(i=0),e>t&&(t=e);var n=this._seedIndex[i]%o.G.GameConst.randomSeed.length,a=e+this._seeds[i][n]%(t-e+1);return this._seeds[i][n]=(9301*this._seeds[i][n]+49297)%1048576||0,this._seedIndex[i]++,this._selectedIndexes[i].push(a),a},e.prototype.randomNumArray=function(e,t,i,o,n){void 0===o&&(o=[]),void 0===n&&(n=0);var a=[];e>t&&(t=e);for(var r=0,s=0,c=o;s<c.length;s++){var l=c[s];l>=e&&l<=t&&r++}t-e+1-r<i&&(i=t-e+1-r);for(var u=0;u<i;){var d=this.randomNum(e,t,n);a.indexOf(d)<0&&o.indexOf(d)<0&&(a.push(d),u++)}return a},e.prototype.getPercentProbability=function(e,t){return void 0===t&&(t=0),e>=this.randomNum(1,100,t)},e}();i.default=n,cc._RF.pop()},{"../G":"G"}],SoundMgr:[function(e,t,i){"use strict";cc._RF.push(t,"eb41dp/rxdJrpYzg3EcFCs9","SoundMgr"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("../G"),n=e("./AssetUtil"),a=function(){function e(){this._musicVolume=1,this._soundVolume=1,this._isPlayMusic=!1,this._isPlaySound=!1,this._soundReses={}}return e.ins=function(){return this._ins||(this._ins=new e),this._ins},Object.defineProperty(e.prototype,"musicVolume",{get:function(){return this._musicVolume},set:function(e){this._musicVolume=e,o.G.LocalStorageMgr.ins().setLocal(o.G.LocalStorageMgr.KEY_MUSIC_VOLUME,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"soundVolume",{get:function(){return this._soundVolume},set:function(e){this._soundVolume=e,o.G.LocalStorageMgr.ins().setLocal(o.G.LocalStorageMgr.KEY_SOUND_VOLUME,e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._soundReses={},cc.audioEngine.setMaxAudioInstance(30)},e.prototype.resetData=function(){},e.prototype.playSoundEffect=function(e){e.volume=this._soundVolume,this._soundVolume>0&&e.play()},e.prototype.playSound=function(e){var t=n.default.getIns().getRes(e);t&&cc.audioEngine.playEffect(t,!1)},e.prototype.playBg=function(e){void 0===e&&(e=!0)},e.prototype.changeBg=function(e){},e}();i.default=a,cc._RF.pop()},{"../G":"G","./AssetUtil":"AssetUtil"}]},{},["G","Main","AssetUtil","LocalStorageMgr","MarkDataUtil","MyPromise","RandomMgr","SoundMgr","Game","GameConst","Ball","BetItem","Brick","GameMgr","GuideMgr","GameModel","GameOver","GamePause","Guide"]);